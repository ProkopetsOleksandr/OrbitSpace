# OrbitSpace System Mechanics & Flows

## Task Lifecycle

### Ephemeral Activity Tasks
- Created automatically when user marks intent in Activity Grid
- Exist only for the current day
- No "overdue" state — vanish at midnight without guilt
- On completion: Grid cell changes from "Planned" to "Done" (filled)

### Regular Tasks (Goal + Floating)
- Persist until completed or manually deleted
- If not completed by date → marked "Overdue", carried to next day
- Calendar binding reset on carryover; task returns to general list

### System Tasks
- Auto-generated by backend (e.g., "Run reflection", "Update Manifest", "Log metrics")
- User decides when to execute — can reschedule freely

## Midnight Trigger (End-of-Day Cleanup)

At day's end, the system automatically sorts unfinished items:
1. **Ephemeral tasks** → disappear. Grid shows empty cell (or intent outline without fact color)
2. **Regular tasks** → carry to tomorrow, calendar binding reset, marked "Overdue"
3. **Habits** → planner list refreshes based on habit schedule

## Daily Cycle: "Designing and Living a Day"

### 1. Morning Ritual (Activity Grid)
- Input metrics (Sleep, Energy)
- Select intended activities (double-click → outline appears)
- System creates ephemeral tasks for selected activities

### 2. Day Design (Daily Planner)
- **Tasks block**: ephemeral (from Grid) + scheduled + overdue
- **Calendar block**: drag tasks to time slots (task leaves general list)
- **Habits block**: separate list for "Installation" phase habits (visual reminder, not schedulable)
- Drag-and-drop prioritization

### 3. Execution
- Pomodoro timer for deep work (select task from dropdown)
- On timer completion: task gets "In Progress" mark (effort acknowledged even if not finished)

### 4. Check-in
- Complete tasks manually (checkbox)
- Goal-linked tasks auto-log to goal's Feed
- Habit check-in in Planner → syncs to Activity Grid (cell fills with "Fact" status)

## Onboarding Flow

1. Registration → Dashboard (empty state)
2. Welcome overlay: "OrbitSpace is your life operating system"
3. System tasks appear in Planner (not forced progress bar):
   - Fill Balance Wheel
   - Create first Manifest
   - Choose Activities
4. Just-in-time education: contextual intro when user opens empty module for the first time

## Goal Design Flow

1. Navigate to Goals → "Create" → full-screen form
2. Fill: Title, Description, Balance Wheel Sector, Manifest Role (optional)
3. System creates goal's "Micro-hub" page (Feed, Tasks, Linked entities)
4. Add first tasks directly on goal page → auto-marked `goal_linked`
5. Link Activities (create new ones via dialog if needed)
6. Goal appears on Dashboard in "Active Goals" block

**After completion**: goal-linked activities in Grid glow as "strategically important"

## Reflection Flows

### Activity Reflection (Operational)
1. Trigger: system task in Planner
2. System aggregates data since last reflection (default 7 days, adjustable)
3. "Mirror" interface: left = timeline of achievements/stats, right = text editor
4. Save → archived with date range

### Balance Wheel Reflection (Strategic)
1. Trigger: every ~6 months (configurable)
2. List of all sectors with text field ("Why this score?") + 1-10 scale
3. Previous score highlighted for comparison
4. Save → Dashboard wheel visualization updates

### Manifest Reflection (Identity Evolution)
1. Click "My Manifest" on Dashboard
2. Read mode → Edit mode
3. Update identity descriptions, add new principles
4. Save → no edit history during year; Jan 1st snapshot archives the year

### Custom Reflection (Event-based)
1. User-created types (e.g., "Year retrospective", "Birthday")
2. Clean text editor (no stats panel — free flow)
3. Saved to common reflection feed

## Knowledge Capture Flow

1. Add source (Book/Article/Course) with title
2. Two-panel interface:
   - Left: Notes (raw thoughts, chapter summaries)
   - Right: Insights (actionable rules, formulas, key ideas)
3. Star important insights → appear in global "Favorites" list
4. Source shows on Knowledge Base shelf with insight count indicator

## Key Design Principles

- **Zero Double-Entry**: checking activity in Grid updates all linked entities (habits, goals)
- **No guilt accumulation**: ephemeral tasks vanish, no infinite overdue lists
- **Monthly active context**: user explicitly chooses what to track each month
- **Manual goal closure**: forces conscious analysis of the path traveled
- **Composition over complexity**: tasks are flat/atomic; complex items become Goals
